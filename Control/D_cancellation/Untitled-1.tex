
% TikZ styles for drawing
\tikzstyle{block} = [draw,rectangle,thick,minimum height=2em,minimum width=2em]
\tikzstyle{sum} = [draw,circle,inner sep=0mm,minimum size=2mm]
\tikzstyle{connector} = [->,thick]
\tikzstyle{line} = [thick]
\tikzstyle{branch} = [circle,inner sep=0pt,minimum size=1mm,fill=black,draw=black]
\tikzstyle{guide} = []
\tikzstyle{snakeline} = [connector, decorate, decoration={pre length=0.2cm,
                         post length=0.2cm, snake, amplitude=.4mm,
                         segment length=2mm},thick, magenta, ->]

\renewcommand{\vec}[1]{\ensuremath{\boldsymbol{#1}}} % bold vectors
\def \myneq {\skew{-2}\not =} % \neq alone skews the dash
\begin{tikzpicture}[scale=1, auto, >=stealth']
  \Large
  % node placement with matrix library: 5x4 array
  \matrix[ampersand replacement=\&, row sep=0.2cm, column sep=0.4cm] {
    %
    % \node[block] (F1) {$\vec{u}_i = F_i(\{\widetilde{\vec{x}}_j\}_{j=1}^N)$}; \&
    \node (w) at (3,0) {\tl{w}};
    % \&
    % \&
    \node[block] (f1) at (8,0)
    % {$\begin{matrix}
    %     \dot{x}_1 = A_1x_1+Ew+B_1u_1\\
    %     z = Hx_1 +Fw +Gu_1\\
    %     y_1 = Gx_1 +D_1w
    %     \end{matrix}$};
    % \node (z) at (13,0) {\tl{z}};
    % %      \& \\\\
    % % \&
    % \&
    % \&
    % \node[block] (L1) {$\vec{e}_i(\vec{y}_i - \widetilde{\vec{y}}_i)$};\&
    % \node [sum] (e1) {}; \\
    % \&
    % \&
    
    % \node[sum] (v1) {}; \&
    % \node[block] (o1) at (8,-2.4) {$\begin{matrix}
    %     \dot{x}_2 = A_2x_2+B_2u_2\\
    %     y_2 = c_2x_2 +D_2u_2
    %     \end{matrix}$};
    % \&
    % \\
    \node[guide] (i1) {}; \& \& \& \& \\
  };
  % now link the nodes
%   \draw [line] (F1) -- (u1);
  \draw [connector] (w) -- node {} (f1);
  \draw [connector] node {} (f1) -- (z);
%   \draw [connector] (e1) -- (L1);
%   \draw [connector] (L1) -| (v1);
%   \draw [connector] (v1) -- node {$\vec{v}_i$} (o1);
%   \draw [connector] (u1) |- (v1);
%   \draw [connector] (o1) -| node[pos=0.96] {$-$} node [near end, swap]
%                     {$\widetilde{\vec{y}}_i$} (e1);
%   \draw [connector] (o1.south) -- ++(0,-.5cm) -| node [near start]
%                     {$\widetilde{\vec{x}}_i$} ($(F1.south) + (0.4cm, 0em)$);
\end{tikzpicture}
